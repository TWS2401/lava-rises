{
  "type": "minecraft:dialog_list",
  "title": "Block Rises Settings",
  "exit_action": {
    "label": "Exit",
    "width": 100,
    "action": {
      "type": "minecraft:run_command",
      "command": "function blockrises:settings/exit_settings"
    }
  },
  "dialogs": [
    {
      "type": "minecraft:confirmation",
      "title": "Block Type",
      "body": {
        "type": "minecraft:plain_message",
        "contents": "The ID of the block to rise."
      },
      "inputs": [
        {
          "type": "minecraft:text",
          "key": "block_type",
          "label": "Block Type",
          "label_visible": false,
          "initial": "minecraft:lava",
          "max_length": 64
        }
      ],
      "yes": {
        "label": "Save",
        "width": 100,
        "action": {
          "type": "minecraft:dynamic/run_command",
          "template": "function blockrises:settings/save/block_type {block_type:\"$(block_type)\"}"
        }
      },
      "no": {
        "label": "Cancel",
        "width": 100,
        "action": {
          "type": "minecraft:run_command",
          "command": "function blockrises:settings/exit_settings"
        }
      }
    },
    {
      "type": "minecraft:confirmation",
      "title": "Border Size",
      "body": {
        "type": "minecraft:plain_message",
        "contents": "The size of the World Border upon starting a game."
      },
      "inputs": [
        {
          "type": "minecraft:number_range",
          "key": "border_size",
          "label": "Border Size",
          "start": 50,
          "end": 180,
          "step": 1,
          "initial": 100
        }
      ],
      "yes": {
        "label": "Save",
        "width": 100,
        "action": {
          "type": "minecraft:dynamic/run_command",
          "template": "function blockrises:settings/save/border_size {border_size:\"$(border_size)\"}"
        }
      },
      "no": {
        "label": "Cancel",
        "width": 100,
        "action": {
          "type": "minecraft:run_command",
          "command": "function blockrises:settings/exit_settings"
        }
      }
    },
    {
      "type": "minecraft:confirmation",
      "title": "Progress Bar",
      "body": {
        "type": "minecraft:plain_message",
        "contents": "Toggles a progress bar showing how much time until the next layer rises."
      },
      "inputs": [
        {
          "type": "minecraft:boolean",
          "key": "show_progress",
          "label": "Progress Bar",
          "initial": true,
          "on_true": "1",
          "on_false": "0"
        }
      ],
      "yes": {
        "label": "Save",
        "width": 100,
        "action": {
          "type": "minecraft:dynamic/run_command",
          "template": "function blockrises:settings/save/show_progress {show_progress:\"$(show_progress)\"}"
        }
      },
      "no": {
        "label": "Cancel",
        "width": 100,
        "action": {
          "type": "minecraft:run_command",
          "command": "function blockrises:settings/exit_settings"
        }
      }
    },
    {
      "type": "minecraft:confirmation",
      "title": "Grace Period",
      "body": {
        "type": "minecraft:plain_message",
        "contents": "How long players have until the layers start rising. Setting this to 0 disables it."
      },
      "inputs": [
        {
          "type": "minecraft:number_range",
          "key": "grace_period",
          "label": "Grace Period",
          "label_format": "%1$s: %2$s minutes",
          "start": 0,
          "end": 60,
          "step": 1,
          "initial": 20
        }
      ],
      "yes": {
        "label": "Save",
        "width": 100,
        "action": {
          "type": "minecraft:dynamic/run_command",
          "template": "function blockrises:settings/save/grace_period {grace_period:\"$(grace_period)\"}"
        }
      },
      "no": {
        "label": "Cancel",
        "width": 100,
        "action": {
          "type": "minecraft:run_command",
          "command": "function blockrises:settings/exit_settings"
        }
      }
    },
    {
      "type": "minecraft:confirmation",
      "title": "Starting Level",
      "body": {
        "type": "minecraft:plain_message",
        "contents": "The Y-level at which blocks will start to rise from."
      },
      "inputs": [
        {
          "type": "minecraft:number_range",
          "key": "starting_level",
          "label": "Starting Level",
          "start": -63,
          "end": 319,
          "step": 1,
          "initial": -54
        }
      ],
      "yes": {
        "label": "Save",
        "width": 100,
        "action": {
          "type": "minecraft:dynamic/run_command",
          "template": "function blockrises:settings/save/starting_level {starting_level:\"$(starting_level)\"}"
        }
      },
      "no": {
        "label": "Cancel",
        "width": 100,
        "action": {
          "type": "minecraft:run_command",
          "command": "function blockrises:settings/exit_settings"
        }
      }
    },
    {
      "type": "minecraft:confirmation",
      "title": "Rising Interval",
      "body": {
        "type": "minecraft:plain_message",
        "contents": "How often layers will rise."
      },
      "inputs": [
        {
          "type": "minecraft:number_range",
          "key": "interval",
          "label": "Rising Interval",
          "label_format": "%1$s: %2$s seconds",
          "start": 30,
          "end": 600,
          "step": 1,
          "initial": 60
        }
      ],
      "yes": {
        "label": "Save",
        "width": 100,
        "action": {
          "type": "minecraft:dynamic/run_command",
          "template": "function blockrises:settings/save/interval {interval:\"$(interval)\"}"
        }
      },
      "no": {
        "label": "Cancel",
        "width": 100,
        "action": {
          "type": "minecraft:run_command",
          "command": "function blockrises:settings/exit_settings"
        }
      }
    },
    {
      "type": "minecraft:confirmation",
      "title": "Layer Increment",
      "body": {
        "type": "minecraft:plain_message",
        "contents": "How many layers will be skipped over each time blocks rise."
      },
      "inputs": [
        {
          "type": "minecraft:number_range",
          "key": "base_increment",
          "label": "Layer Increment",
          "start": 1,
          "end": 10,
          "step": 1,
          "initial": 5
        }
      ],
      "yes": {
        "label": "Save",
        "width": 100,
        "action": {
          "type": "minecraft:dynamic/run_command",
          "template": "function blockrises:settings/save/base_increment {base_increment:\"$(base_increment)\"}"
        }
      },
      "no": {
        "label": "Cancel",
        "width": 100,
        "action": {
          "type": "minecraft:run_command",
          "command": "function blockrises:settings/exit_settings"
        }
      }
    },
    {
      "type": "minecraft:confirmation",
      "title": "Rise Exponentially",
      "body": {
        "type": "minecraft:plain_message",
        "contents": "Whether or not the increment itself will increase each time blocks rise."
      },
      "inputs": [
        {
          "type": "minecraft:boolean",
          "key": "rise_exp",
          "label": "Rise Exponentially",
          "initial": false,
          "on_true": "1",
          "on_false": "0"
        }
      ],
      "yes": {
        "label": "Save",
        "width": 100,
        "action": {
          "type": "minecraft:dynamic/run_command",
          "template": "function blockrises:settings/save/rise_exp {rise_exp:\"$(rise_exp)\"}"
        }
      },
      "no": {
        "label": "Cancel",
        "width": 100,
        "action": {
          "type": "minecraft:run_command",
          "command": "function blockrises:settings/exit_settings"
        }
      }
    },
    {
      "type": "minecraft:multi_action",
      "title": "Presets",
      "body": {
        "type": "minecraft:plain_message",
        "contents": "Settings presets that replicate the most popular versions of this challenge.",
        "width": 300
      },
      "actions": [
        {
          "label": "Water Rises",
          "tooltip": "No grace period, starts at sea level, every 5 minutes exponentially.",
          "action": {
            "type": "minecraft:run_command",
            "command": "function blockrises:settings/presets/water_rises"
          }
        },
        {
          "label": "Lava Rises",
          "tooltip": "20 min grace period, starts at y=-54, every minute 5 layers at a time.",
          "action": {
            "type": "minecraft:run_command",
            "command": "function blockrises:settings/presets/lava_rises"
          }
        }
      ]
    }
  ]
}
